//Codigo para notificar al correo cada vez que se abre la puerta.
//O bien cada vez que la señal entre el fotodiodo y el transistor detecte distorsión o se interrumpa.

//Se utilizarán las bibliotecas del módulo wifi del ESP8266.
//Además para enviar un correo desde arduino se deberá realizar mediante un proveedor SMTP.
//En este código se utilizará SendGrid.

# definir  _DEBUG_
# define  DISABLE_TLS
# incluye  < ESP8266WiFi.h >
# include  < ThingerESP8266.h >

# define  USERNAME  "  "
# define  DEVICE_ID  "  "
# define  DEVICE_CREDENTIAL  "  "

# define  SSID  " nombre_wifi "
# define  SSID_PASSWORD  " contraseña wifi "

ThingerESP8266 cosa (USERNAME, DEVICE_ID, DEVICE_CREDENTIAL);
int pushPin = 12 ; //   Pin 6 en Node MCU
int val = 0 ;     // variable para leer el estado del pin
 
 configuración vacía () {
  
  cosa. agregar_wifi (SSID, SSID_PASSWORD);
  
  pinMode (pushPin, INPUT_PULLUP); // declarar pulsador como entrada
  De serie. comenzar ( 9600 );

 
}

 bucle vacío () {
val = digitalRead (pushPin);
  De serie. println (val); // leer valor de entrada
  if (val == LOW) {          // verifica si la entrada es ALTA (botón suelto)
    
      cosa. manejar ();
      cosa. call_endpoint ( " correo electrónico " );
      retraso ( 5000 );
  }
  
}


